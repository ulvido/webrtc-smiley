<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>WEBRTC Demo</title>
  <link rel="shortcut icon" href="#" />
  <link rel="stylesheet" href="style.css">
  <script>
    // service worker registration
    if ("serviceWorker" in navigator) {
      window.addEventListener("load", () => {
        navigator.serviceWorker
          .register("sw.js")
          .then(
            reg => console.log("[Service Worker] Registered ✓", reg),
            error => console.log("[Service Worker] Registration failed!", error))
      });
    } else {
      console.log("[Service Worker] Service Workers NOT Supported!");
    }
  </script>
</head>

<body>
  <h1>WEBRTC</h1>
  <hr>
  <div class="nav">
    <input type="button" id="btn-create-connection" value="CREATE CONNECTION" style="width: 172px !important;">
    <input type="button" id="btn-cancel-create" value="CANCEL" style="width: 172px !important;">
    <input type="button" id="btn-create-datachannel" value="CREATE DATACHANNEL" style="width: 172px !important;">
  </div>
  <div class="wrapper">
    <input type="button" id="btncall" value="CALL">
    <div class="area-wrapper">
      <input type="button" class="copy-btn" id="btn-copy-offer" value="KOPYALA">
      <textarea placeholder="paste offer" name="offer" id="sdp-offer" rows="4"></textarea>
    </div>
    <input type="button" id="btnanswer" value="ANSWER">
    <div class="area-wrapper">
      <input type="button" class="copy-btn" id="btn-copy-answer" value="KOPYALA">
      <textarea placeholder="paste answer" name="answer" id="sdp-answer" rows="4"></textarea>
    </div>
    <input type="button" id="btnaccept" value="ACCEPT">
  </div>
  <div class="msg-wrapper">
    <h5>DATACHANNEL: <span id="datachannel-label"></span></h5>
    <div class="emoji-wrapper">
      <input type="button" class="btn-emoji" value="👋">
      <input type="button" class="btn-emoji" value="👍🏻">
      <input type="button" class="btn-emoji" value="🔥">
      <input type="button" class="btn-emoji" value="😎">
      <input type="button" class="btn-emoji" value="🧿">
      <input type="button" class="btn-emoji" value="🙋🏻‍♂️">
    </div>
    <hr>
    <div id="messages"></div>
  </div>
  <!-- opfs için same origin gerektiğinden adapter.js'yi indirdik. -->
  <!-- <script src="https://webrtc.github.io/adapter/adapter-latest.js"></script> -->
  <script src="adapter.js"></script>
  <script src="webrtc.js"></script>
</body>

</html>